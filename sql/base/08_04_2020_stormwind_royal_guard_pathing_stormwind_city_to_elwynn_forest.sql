-- Stormwind Royal Guard
SET @ENTRY := 42218;
SET @SOURCETYPE := 0;

DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=@SOURCETYPE;
UPDATE creature_template SET AIName="SmartAI" WHERE entry=@ENTRY LIMIT 1;
INSERT INTO `smart_scripts` (`entryorguid`,`source_type`,`id`,`link`,`event_type`,`event_phase_mask`,`event_chance`,`event_flags`,`event_param1`,`event_param2`,`event_param3`,`event_param4`,`action_type`,`action_param1`,`action_param2`,`action_param3`,`action_param4`,`action_param5`,`action_param6`,`target_type`,`target_param1`,`target_param2`,`target_param3`,`target_x`,`target_y`,`target_z`,`target_o`,`comment`) VALUES 
(@ENTRY,@SOURCETYPE,0,0,0,0,100,0,0,0,2300,3900,11,95826,64,0,0,0,0,2,0,0,0,0.0,0.0,0.0,0.0,"Stormwind Royal Guard - In Combat - Cast 'Shoot'"),
(@ENTRY,@SOURCETYPE,1,0,1,0,100,1,1000,1000,1000,1000,11,78855,2,0,0,0,0,1,0,0,0,0.0,0.0,0.0,0.0,"Stormwind Royal Guard - Out of Combat - Cast 'Stormwind Flag Carrier' (No Repeat)"),
(@ENTRY,@SOURCETYPE,3,0,1,0,100,0,0,0,0,0,65,0,0,0,0,0,0,1,0,0,0,0.0,0.0,0.0,0.0,"Stormwind Royal Guard  - OoC resume WP"),
(@ENTRY,@SOURCETYPE,4,0,40,0,100,0,59,17879100,0,0,41,10000,0,0,0,0,0,1,0,0,0,0.0,0.0,0.0,0.0,"Stormwind Royal Guard - On Final Waypoint - Despawn");


DELETE FROM `creature` WHERE `guid` IN (179869,178449,178448,178445,179873,179876,179877,179874,179871);
DELETE FROM `creature_addon` WHERE `guid` IN (179869,178449,178448,178445,179873,179876,179877,179874,179871);
UPDATE `creature` SET `spawndist`=0,`MovementType`=2,`position_x`=-9119.9,`position_y`=390.402,`position_z`=91.8667, `spawntimesecs`=120 WHERE `guid`=178791;
UPDATE `creature` SET `spawndist`=0,`MovementType`=2,`position_x`=-9119.9,`position_y`=390.402,`position_z`=91.8667, `spawntimesecs`=120 WHERE `guid` IN (178788,178790,178793,178787,178794,178795,178792,178789);
DELETE FROM `creature_addon` WHERE `guid` IN (178787, 178788,178790,178793,178791,178794,178795,178792,178789);
INSERT INTO `creature_addon` (`guid`,`path_id`,`mount`,`bytes1`,`bytes2`,`emote`,`auras`) VALUES
(178795,0,29284,0,1,0, '78855'),
(178794,0,29284,0,1,0, '78855'),
(178793,0,29284,0,1,0, '78855'),
(178792,0,29284,0,1,0, '78855'),
(178787,0,29284,0,1,0, '78855'),
(178790,0,29284,0,1,0, '78855'),
(178789,0,29284,0,1,0, '78855'),
(178788,0,29284,0,1,0, '78855'),
(178791,17879100,29284,0,1,0, '78855');

DELETE FROM `creature_formations` WHERE `leaderGUID`=178791;
INSERT INTO `creature_formations` (`leaderGUID`,`memberGUID`,`dist`,`angle`,`groupAI`,`point_1`,`point_2`) VALUES
(178791, 178791, 0, 0, 515, 0, 0),
(178791, 178792, 3, 90, 515, 0, 0),
(178791, 178790, 3, 270, 515, 0, 0),
(178791, 178789, 5, 45, 515, 0, 0),
(178791, 178788, 5, 315, 515, 0, 0),
(178791, 178794, 4, 360, 515, 0, 0),
(178791, 178787, 8, 360, 515, 0, 0),
(178791, 178793, 9, 22, 515, 0, 0),
(178791, 178795, 9, 344, 515, 0, 0);

DELETE FROM `waypoint_data` WHERE `id`=178791 * 100;
INSERT INTO `waypoint_data` (`id`,`point`,`position_x`,`position_y`,`position_z`,`orientation`,`delay`,`move_type`,`action`,`action_chance`,`wpguid`) VALUES
(178791 * 100, 1, -9119.9, 390.402, 91.8667, 0, 0, 0, 0, 100, 0),
(178791 * 100, 2, -9120.68, 389.773, 91.8667, 0, 0, 0, 0, 100, 0),
(178791 * 100, 3, -9136.41, 381.545, 90.6434, 0, 0, 0, 0, 100, 0),
(178791 * 100, 4, -9157.69, 359.5, 89.305, 0, 0, 0, 0, 100, 0),
(178791 * 100, 5, -9174.68, 339.597, 83.9513, 0, 0, 0, 0, 100, 0),
(178791 * 100, 6, -9180.38, 319.033, 79.9367, 0, 0, 0, 0, 100, 0),
(178791 * 100, 7, -9179.4, 282.561, 76.0222, 0, 0, 0, 0, 100, 0),
(178791 * 100, 8, -9186.77, 238.557, 72.4619, 0, 0, 0, 0, 100, 0),
(178791 * 100, 9, -9214.09, 208.528, 69.7846, 0, 0, 0, 0, 100, 0),
(178791 * 100, 10, -9241.48, 173.536, 67.8369, 0, 0, 0, 0, 100, 0),
(178791 * 100, 11, -9263.96, 154.547, 67.2846, 0, 0, 0, 0, 100, 0),
(178791 * 100, 12, -9292.29, 148.413, 66.4168, 0, 0, 0, 0, 100, 0),
(178791 * 100, 13, -9327.91, 130.203, 64.0227, 0, 0, 0, 0, 100, 0),
(178791 * 100, 14, -9348.82, 117.773, 62.7116, 0, 0, 0, 0, 100, 0),
(178791 * 100, 15, -9385.51, 104.726, 59.7012, 0, 0, 0, 0, 100, 0),
(178791 * 100, 16, -9409.12, 92.467, 57.7331, 0, 0, 0, 0, 100, 0),
(178791 * 100, 17, -9435.12, 72.3941, 56.0949, 0, 0, 0, 0, 100, 0),
(178791 * 100, 18, -9454.01, 64.7517, 56.0216, 0, 0, 0, 0, 100, 0),
(178791 * 100, 19, -9483.89, 65.4722, 56.1705, 0, 0, 0, 0, 100, 0),
(178791 * 100, 20, -9491.36, 60.8906, 55.8921, 0, 0, 0, 0, 100, 0),
(178791 * 100, 21, -9504.84, 33.474, 56.3795, 0, 0, 0, 0, 100, 0),
(178791 * 100, 22, -9525.04, -5.62326, 55.8272, 0, 0, 0, 0, 100, 0),
(178791 * 100, 23, -9539.8, -35.5156, 56.431, 0, 0, 0, 0, 100, 0),
(178791 * 100, 24, -9546.57, -61.9184, 57.0113, 0, 0, 0, 0, 100, 0),
(178791 * 100, 25, -9549.15, -101.922, 57.2853, 0, 0, 0, 0, 100, 0),
(178791 * 100, 26, -9551.71, -131.13, 57.3982, 0, 0, 0, 0, 100, 0),
(178791 * 100, 27, -9572.64, -156.448, 57.3927, 0, 0, 0, 0, 100, 0),
(178791 * 100, 28, -9583.48, -186.366, 57.5604, 0, 0, 0, 0, 100, 0),
(178791 * 100, 29, -9598.09, -223.769, 57.2399, 0, 0, 0, 0, 100, 0),
(178791 * 100, 30, -9609.41, -258.146, 57.1602, 0, 0, 0, 0, 100, 0),
(178791 * 100, 31, -9618.23, -294.892, 56.9496, 0, 0, 0, 0, 100, 0),
(178791 * 100, 32, -9620.23, -324.826, 57.5732, 0, 0, 0, 0, 100, 0),
(178791 * 100, 33, -9620.42, -359.37, 57.2582, 0, 0, 0, 0, 100, 0),
(178791 * 100, 34, -9619.54, -392.205, 57.804, 0, 0, 0, 0, 100, 0),
(178791 * 100, 35, -9611.05, -426.469, 57.3709, 0, 0, 0, 0, 100, 0),
(178791 * 100, 36, -9598.08, -453.528, 57.6788, 0, 0, 0, 0, 100, 0),
(178791 * 100, 37, -9588.98, -476.995, 57.7533, 0, 0, 0, 0, 100, 0),
(178791 * 100, 38, -9593.1, -503.181, 57.3872, 0, 0, 0, 0, 100, 0),
(178791 * 100, 39, -9599.22, -512.536, 57.3586, 0, 0, 0, 0, 100, 0),
(178791 * 100, 40, -9610.61, -530.849, 54.8333, 0, 0, 0, 0, 100, 0),
(178791 * 100, 41, -9616.64, -555.116, 54.4425, 0, 0, 0, 0, 100, 0),
(178791 * 100, 42, -9621.07, -599.967, 52.7582, 0, 0, 0, 0, 100, 0),
(178791 * 100, 43, -9623.73, -630.854, 51.541, 0, 0, 0, 0, 100, 0),
(178791 * 100, 44, -9641.07, -661.401, 49.3346, 0, 0, 0, 0, 100, 0),
(178791 * 100, 45, -9648.89, -693.67, 46.7381, 0, 0, 0, 0, 100, 0),
(178791 * 100, 46, -9655.99, -725.42, 44.418, 0, 0, 0, 0, 100, 0),
(178791 * 100, 47, -9653.45, -752.071, 44.5802, 0, 0, 0, 0, 100, 0),
(178791 * 100, 48, -9651.89, -780.089, 44.3004, 0, 0, 0, 0, 100, 0),
(178791 * 100, 49, -9647.31, -797.179, 43.5314, 0, 0, 0, 0, 100, 0),
(178791 * 100, 50, -9631.43, -817.967, 43.8334, 0, 0, 0, 0, 100, 0),
(178791 * 100, 51, -9606.31, -843.512, 43.7135, 0, 0, 0, 0, 100, 0),
(178791 * 100, 52, -9586.62, -866.698, 43.743, 0, 0, 0, 0, 100, 0),
(178791 * 100, 53, -9581.56, -898.13, 43.6025, 0, 0, 0, 0, 100, 0),
(178791 * 100, 54, -9587.17, -930.189, 43.328, 0, 0, 0, 0, 100, 0),
(178791 * 100, 55, -9611.5, -962.557, 43.7248, 0, 0, 0, 0, 100, 0),
(178791 * 100, 56, -9618.83, -979.495, 43.7668, 0, 0, 0, 0, 100, 0),
(178791 * 100, 57, -9621.49, -1000.79, 42.2443, 0, 0, 0, 0, 100, 0),
(178791 * 100, 58, -9619.17, -1033.02, 39.6984, 0, 0, 0, 0, 100, 0),
(178791 * 100, 59, -9619.17, -1033.02, 39.6984, 0, 0, 0, 0, 100, 0);